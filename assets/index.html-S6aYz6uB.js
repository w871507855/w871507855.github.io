import{_ as a}from"./plugin-vue_export-helper-DlAUqK2U.js";import{c as n,b as e,o as i}from"./app-CE1EEUmx.js";const l={};function p(t,s){return i(),n("div",null,s[0]||(s[0]=[e(`<h2 id="python3-13学习" tabindex="-1"><a class="header-anchor" href="#python3-13学习"><span>python3.13学习</span></a></h2><h3 id="_1-python基础" tabindex="-1"><a class="header-anchor" href="#_1-python基础"><span>1. python基础</span></a></h3><h4 id="_1-1-变量" tabindex="-1"><a class="header-anchor" href="#_1-1-变量"><span>1.1 变量</span></a></h4><h4 id="_1-2-数据类型" tabindex="-1"><a class="header-anchor" href="#_1-2-数据类型"><span>1.2 数据类型</span></a></h4><h2 id="第三方库使用" tabindex="-1"><a class="header-anchor" href="#第三方库使用"><span>第三方库使用</span></a></h2><h3 id="定时任务" tabindex="-1"><a class="header-anchor" href="#定时任务"><span>定时任务</span></a></h3><h4 id="安装" tabindex="-1"><a class="header-anchor" href="#安装"><span>安装</span></a></h4><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>pip install APScheduler</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h4 id="使用" tabindex="-1"><a class="header-anchor" href="#使用"><span>使用</span></a></h4><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>import time</span></span>
<span class="line"><span>from apscheduler.schedulers.background import BackgroundScheduler</span></span>
<span class="line"><span></span></span>
<span class="line"><span></span></span>
<span class="line"><span>scheduler = BackgroundScheduler()</span></span>
<span class="line"><span></span></span>
<span class="line"><span>def task():</span></span>
<span class="line"><span>    time.sleep(3)</span></span>
<span class="line"><span></span></span>
<span class="line"><span># 添加task到定时任务中，每5秒执行一次，申请10次实例</span></span>
<span class="line"><span>scheduler.add_job(task, &#39;interval&#39;, seconds=5, max_instances=10)</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="启动apscheduler" tabindex="-1"><a class="header-anchor" href="#启动apscheduler"><span>启动apscheduler</span></a></h4><h5 id="fastapi中启动" tabindex="-1"><a class="header-anchor" href="#fastapi中启动"><span>fastapi中启动：</span></a></h5><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>from contextlib import asynccontextmanager</span></span>
<span class="line"><span>from fastapi import Fastapi</span></span>
<span class="line"><span>from utils.scheduler import scheduler</span></span>
<span class="line"><span></span></span>
<span class="line"><span>@asynccontextmanager</span></span>
<span class="line"><span>async def lifespan(app: Fastapi):</span></span>
<span class="line"><span>    scheduler.start()</span></span>
<span class="line"><span>    print(&quot;定时器已启动&quot;)</span></span>
<span class="line"><span>    yield</span></span>
<span class="line"><span>    scheduler.shutdown()</span></span>
<span class="line"><span>    print(&quot;定时器已关闭&quot;)</span></span>
<span class="line"><span></span></span>
<span class="line"><span>app = Fastapi(</span></span>
<span class="line"><span>	lifespan=lifespan</span></span>
<span class="line"><span>)</span></span>
<span class="line"><span></span></span>
<span class="line"><span>if __name__ == &quot;__main__&quot;:</span></span>
<span class="line"><span>	import uvicorn</span></span>
<span class="line"><span>	uvicorn.run(app)</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="日志记录" tabindex="-1"><a class="header-anchor" href="#日志记录"><span>日志记录</span></a></h3><h4 id="安装-1" tabindex="-1"><a class="header-anchor" href="#安装-1"><span>安装</span></a></h4><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>pip install loguru</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h3 id="配置管理" tabindex="-1"><a class="header-anchor" href="#配置管理"><span>配置管理</span></a></h3>`,17)]))}const h=a(l,[["render",p],["__file","index.html.vue"]]),c=JSON.parse('{"path":"/python/","title":"","lang":"zh-CN","frontmatter":{"description":"python3.13学习 1. python基础 1.1 变量 1.2 数据类型 第三方库使用 定时任务 安装 使用 启动apscheduler fastapi中启动： 日志记录 安装 配置管理","gitInclude":[],"head":[["meta",{"property":"og:url","content":"https://mister-hope.github.io/python/"}],["meta",{"property":"og:site_name","content":"lcc博客"}],["meta",{"property":"og:description","content":"python3.13学习 1. python基础 1.1 变量 1.2 数据类型 第三方库使用 定时任务 安装 使用 启动apscheduler fastapi中启动： 日志记录 安装 配置管理"}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"\\",\\"image\\":[\\"\\"],\\"dateModified\\":null,\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"lcc\\",\\"url\\":\\"https://mister-hope.com\\"}]}"]]},"headers":[{"level":2,"title":"python3.13学习","slug":"python3-13学习","link":"#python3-13学习","children":[{"level":3,"title":"1. python基础","slug":"_1-python基础","link":"#_1-python基础","children":[]}]},{"level":2,"title":"第三方库使用","slug":"第三方库使用","link":"#第三方库使用","children":[{"level":3,"title":"定时任务","slug":"定时任务","link":"#定时任务","children":[]},{"level":3,"title":"日志记录","slug":"日志记录","link":"#日志记录","children":[]},{"level":3,"title":"配置管理","slug":"配置管理","link":"#配置管理","children":[]}]}],"readingTime":{"minutes":0.46,"words":139},"filePathRelative":"python/README.md","excerpt":"<h2>python3.13学习</h2>\\n<h3>1. python基础</h3>\\n<h4>1.1 变量</h4>\\n<h4>1.2 数据类型</h4>\\n<h2>第三方库使用</h2>\\n<h3>定时任务</h3>\\n<h4>安装</h4>\\n<div class=\\"language- line-numbers-mode\\" data-highlighter=\\"shiki\\" data-ext=\\"\\" data-title=\\"\\" style=\\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\\"><pre class=\\"shiki shiki-themes one-light one-dark-pro vp-code\\"><code><span class=\\"line\\"><span>pip install APScheduler</span></span></code></pre>\\n<div class=\\"line-numbers\\" aria-hidden=\\"true\\" style=\\"counter-reset:line-number 0\\"><div class=\\"line-number\\"></div></div></div>","autoDesc":true}');export{h as comp,c as data};

import{_ as s}from"./plugin-vue_export-helper-DlAUqK2U.js";import{c as i,b as t,o as a}from"./app-DETooy_b.js";const n={};function l(r,e){return a(),i("div",null,e[0]||(e[0]=[t(`<h2 id="wsl安装" tabindex="-1"><a class="header-anchor" href="#wsl安装"><span>wsl安装</span></a></h2><p><a href="https://learn.microsoft.com/zh-cn/windows/wsl/install" target="_blank" rel="noopener noreferrer">安装 WSL | Microsoft Learn</a></p><h2 id="安装linux" tabindex="-1"><a class="header-anchor" href="#安装linux"><span>安装linux</span></a></h2><h3 id="进入微软商店" tabindex="-1"><a class="header-anchor" href="#进入微软商店"><span>进入微软商店</span></a></h3><p>搜索linux，选择想安装的linux，点击安装 <img src="https://img-1254407900.cos.ap-shanghai.myqcloud.com/20241113110627.png" alt="image.png" loading="lazy"><img src="https://img-1254407900.cos.ap-shanghai.myqcloud.com/20241113110642.png" alt="image.png" loading="lazy"></p><h3 id="安装" tabindex="-1"><a class="header-anchor" href="#安装"><span>安装</span></a></h3><p>输入 <code>wsl --shutdown</code> 使其停止运行，再次使用<code>wsl -l -v</code>确保其处于stopped状态。</p><h2 id="_2-导出-恢复备份" tabindex="-1"><a class="header-anchor" href="#_2-导出-恢复备份"><span><strong>2.导出/恢复备份</strong></span></a></h2><p>在D盘创建一个目录用来存放新的WSL，比如我创建了一个 <code>D:\\Ubuntu_WSL</code> 。</p><p>①导出它的备份（比如命名为Ubuntu.tar)</p><div class="language-text line-numbers-mode" data-highlighter="shiki" data-ext="text" data-title="text" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>wsl --export Ubuntu-22.04 D:\\Ubuntu_WSL\\Ubuntu.tar</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>②确定在此目录下可以看见备份Ubuntu.tar文件之后，注销原有的wsl</p><div class="language-text line-numbers-mode" data-highlighter="shiki" data-ext="text" data-title="text" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>wsl --unregister Ubuntu-22.04</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>③将备份文件恢复到<code>D:\\Ubuntu_WSL</code>中去</p><div class="language-text line-numbers-mode" data-highlighter="shiki" data-ext="text" data-title="text" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>wsl --import Ubuntu-22.04 D:\\Ubuntu_WSL D:\\Ubuntu_WSL\\Ubuntu.tar</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>这时候启动WSL，发现好像已经恢复正常了，但是用户变成了root，之前使用过的文件也看不见了。</p><h2 id="_3-恢复默认用户" tabindex="-1"><a class="header-anchor" href="#_3-恢复默认用户"><span><strong>3.恢复默认用户</strong></span></a></h2><p>在CMD中，输入 <code>Linux发行版名称 config --default-user 原本用户名</code></p><p>例如：</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">Ubuntu2204</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> config</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> --default-user</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> cham</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>请注意，这里的发行版名称的版本号是纯数字，比如Ubuntu-22.04就是Ubuntu2204。</p><h2 id="wsl启用systemctl" tabindex="-1"><a class="header-anchor" href="#wsl启用systemctl"><span>wsl启用systemctl</span></a></h2><p>sudo vim /etc/wsl.conf</p><div class="language-conf line-numbers-mode" data-highlighter="shiki" data-ext="conf" data-title="conf" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>[boot]</span></span>
<span class="line"><span>systemd=true</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><p>重启wsl <code>wsl --shutdown</code></p>`,25)]))}const d=s(n,[["render",l],["__file","wsl.html.vue"]]),c=JSON.parse('{"path":"/windows/wsl.html","title":"","lang":"zh-CN","frontmatter":{"description":"wsl安装 安装 WSL | Microsoft Learn 安装linux 进入微软商店 搜索linux，选择想安装的linux，点击安装 image.png image.png 安装 输入 wsl --shutdown 使其停止运行，再次使用wsl -l -v确保其处于stopped状态。 2.导出/恢复备份 在D盘创建一个目录用来存放新的WSL，...","gitInclude":[],"head":[["meta",{"property":"og:url","content":"https://mister-hope.github.io/windows/wsl.html"}],["meta",{"property":"og:site_name","content":"lcc博客"}],["meta",{"property":"og:description","content":"wsl安装 安装 WSL | Microsoft Learn 安装linux 进入微软商店 搜索linux，选择想安装的linux，点击安装 image.png image.png 安装 输入 wsl --shutdown 使其停止运行，再次使用wsl -l -v确保其处于stopped状态。 2.导出/恢复备份 在D盘创建一个目录用来存放新的WSL，..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:image","content":"https://img-1254407900.cos.ap-shanghai.myqcloud.com/20241113110627.png"}],["meta",{"property":"og:locale","content":"zh-CN"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"\\",\\"image\\":[\\"https://img-1254407900.cos.ap-shanghai.myqcloud.com/20241113110627.png\\",\\"https://img-1254407900.cos.ap-shanghai.myqcloud.com/20241113110642.png\\"],\\"dateModified\\":null,\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"lcc\\",\\"url\\":\\"https://mister-hope.com\\"}]}"]]},"headers":[{"level":2,"title":"wsl安装","slug":"wsl安装","link":"#wsl安装","children":[]},{"level":2,"title":"安装linux","slug":"安装linux","link":"#安装linux","children":[{"level":3,"title":"进入微软商店","slug":"进入微软商店","link":"#进入微软商店","children":[]},{"level":3,"title":"安装","slug":"安装","link":"#安装","children":[]}]},{"level":2,"title":"2.导出/恢复备份","slug":"_2-导出-恢复备份","link":"#_2-导出-恢复备份","children":[]},{"level":2,"title":"3.恢复默认用户","slug":"_3-恢复默认用户","link":"#_3-恢复默认用户","children":[]},{"level":2,"title":"wsl启用systemctl","slug":"wsl启用systemctl","link":"#wsl启用systemctl","children":[]}],"readingTime":{"minutes":0.97,"words":290},"filePathRelative":"windows/wsl.md","excerpt":"<h2>wsl安装</h2>\\n<p><a href=\\"https://learn.microsoft.com/zh-cn/windows/wsl/install\\" target=\\"_blank\\" rel=\\"noopener noreferrer\\">安装 WSL | Microsoft Learn</a></p>\\n<h2>安装linux</h2>\\n<h3>进入微软商店</h3>\\n<p>搜索linux，选择想安装的linux，点击安装\\n<img src=\\"https://img-1254407900.cos.ap-shanghai.myqcloud.com/20241113110627.png\\" alt=\\"image.png\\" loading=\\"lazy\\">\\n<img src=\\"https://img-1254407900.cos.ap-shanghai.myqcloud.com/20241113110642.png\\" alt=\\"image.png\\" loading=\\"lazy\\"></p>","autoDesc":true}');export{d as comp,c as data};

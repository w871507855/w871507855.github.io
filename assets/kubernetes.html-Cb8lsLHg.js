import{_ as i}from"./plugin-vue_export-helper-DlAUqK2U.js";import{c as e,b as n,o as a}from"./app-DETooy_b.js";const t={};function l(r,s){return a(),e("div",null,s[0]||(s[0]=[n(`<h1 id="kubernetes" tabindex="-1"><a class="header-anchor" href="#kubernetes"><span>kubernetes</span></a></h1><h2 id="k8s集群搭建" tabindex="-1"><a class="header-anchor" href="#k8s集群搭建"><span>k8s集群搭建</span></a></h2><p><a href="https://docs.k3s.io/zh/" target="_blank" rel="noopener noreferrer">K3s - 轻量级 Kubernetes | K3s</a></p><h2 id="配置私有仓库" tabindex="-1"><a class="header-anchor" href="#配置私有仓库"><span>配置私有仓库</span></a></h2><p>在/etc/rancher/k3s创建registries.yaml</p><p>registries.yaml</p><div class="language-yaml line-numbers-mode" data-highlighter="shiki" data-ext="yaml" data-title="yaml" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">---</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">mirrors</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">  &quot;xxx.xxx.xxx.xxx:xxx&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">    endpoint</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">      - </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;http://xxx.xxx.xxx.xxx:xxx&quot;</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">configs</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">  &quot;xxx.xxx.xxx.xxx:xxx&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">    tls</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">      insecure_skip_verify</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">true</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="配置代理" tabindex="-1"><a class="header-anchor" href="#配置代理"><span>配置代理</span></a></h2><p>在/etc/systemd/system/k3s-agent.service.env中添加以下内容</p><div class="language-env line-numbers-mode" data-highlighter="shiki" data-ext="env" data-title="env" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>HTTP_PROXY=http://xxx.xxx.xxx.xxx:xxx</span></span>
<span class="line"><span>HTTPS_PROXY=http://xxx.xxx.xxx.xxx:xxx</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="外部访问k3s集群" tabindex="-1"><a class="header-anchor" href="#外部访问k3s集群"><span>外部访问k3s集群</span></a></h2><p>kubeconfig: /etc/rancher/k3s/k3s.yaml</p>`,12)]))}const k=i(t,[["render",l],["__file","kubernetes.html.vue"]]),d=JSON.parse('{"path":"/linux/kubernetes.html","title":"kubernetes","lang":"zh-CN","frontmatter":{"description":"kubernetes k8s集群搭建 K3s - 轻量级 Kubernetes | K3s 配置私有仓库 在/etc/rancher/k3s创建registries.yaml registries.yaml 配置代理 在/etc/systemd/system/k3s-agent.service.env中添加以下内容 外部访问k3s集群 kubeconf...","gitInclude":[],"head":[["meta",{"property":"og:url","content":"https://mister-hope.github.io/linux/kubernetes.html"}],["meta",{"property":"og:site_name","content":"lcc博客"}],["meta",{"property":"og:title","content":"kubernetes"}],["meta",{"property":"og:description","content":"kubernetes k8s集群搭建 K3s - 轻量级 Kubernetes | K3s 配置私有仓库 在/etc/rancher/k3s创建registries.yaml registries.yaml 配置代理 在/etc/systemd/system/k3s-agent.service.env中添加以下内容 外部访问k3s集群 kubeconf..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"kubernetes\\",\\"image\\":[\\"\\"],\\"dateModified\\":null,\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"lcc\\",\\"url\\":\\"https://mister-hope.com\\"}]}"]]},"headers":[{"level":2,"title":"k8s集群搭建","slug":"k8s集群搭建","link":"#k8s集群搭建","children":[]},{"level":2,"title":"配置私有仓库","slug":"配置私有仓库","link":"#配置私有仓库","children":[]},{"level":2,"title":"配置代理","slug":"配置代理","link":"#配置代理","children":[]},{"level":2,"title":"外部访问k3s集群","slug":"外部访问k3s集群","link":"#外部访问k3s集群","children":[]}],"readingTime":{"minutes":0.24,"words":72},"filePathRelative":"linux/kubernetes.md","excerpt":"\\n<h2>k8s集群搭建</h2>\\n<p><a href=\\"https://docs.k3s.io/zh/\\" target=\\"_blank\\" rel=\\"noopener noreferrer\\">K3s - 轻量级 Kubernetes | K3s</a></p>\\n<h2>配置私有仓库</h2>\\n<p>在/etc/rancher/k3s创建registries.yaml</p>\\n<p>registries.yaml</p>\\n<div class=\\"language-yaml line-numbers-mode\\" data-highlighter=\\"shiki\\" data-ext=\\"yaml\\" data-title=\\"yaml\\" style=\\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\\"><pre class=\\"shiki shiki-themes one-light one-dark-pro vp-code\\"><code><span class=\\"line\\"><span style=\\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\\">---</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#E45649;--shiki-dark:#E06C75\\">mirrors</span><span style=\\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\\">:</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#50A14F;--shiki-dark:#98C379\\">  \\"xxx.xxx.xxx.xxx:xxx\\"</span><span style=\\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\\">:</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#E45649;--shiki-dark:#E06C75\\">    endpoint</span><span style=\\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\\">:</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\\">      - </span><span style=\\"--shiki-light:#50A14F;--shiki-dark:#98C379\\">\\"http://xxx.xxx.xxx.xxx:xxx\\"</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#E45649;--shiki-dark:#E06C75\\">configs</span><span style=\\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\\">:</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#50A14F;--shiki-dark:#98C379\\">  \\"xxx.xxx.xxx.xxx:xxx\\"</span><span style=\\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\\">:</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#E45649;--shiki-dark:#E06C75\\">    tls</span><span style=\\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\\">:</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#E45649;--shiki-dark:#E06C75\\">      insecure_skip_verify</span><span style=\\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\\">: </span><span style=\\"--shiki-light:#986801;--shiki-dark:#D19A66\\">true</span></span></code></pre>\\n<div class=\\"line-numbers\\" aria-hidden=\\"true\\" style=\\"counter-reset:line-number 0\\"><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div></div></div>","autoDesc":true}');export{k as comp,d as data};
